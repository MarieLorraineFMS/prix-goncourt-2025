@startuml Book details
title Séquence : consulter les détails d'un livre

actor User
boundary UI as "UI"
control Goncourt_service
database DB as "MySQL"

User -> UI : clic sur "La maison vide"
UI -> Goncourt_service : getBookDetails(bookId = 11)

'Récupérer le livre & auteur & éditeur
Goncourt_service -> DB : SELECT b.*, a.*, p.*\nFROM book b\nJOIN author a ON a.id_author = b.author_id\nJOIN publisher p ON p.id_publisher = b.publisher_id\nWHERE b.id_book = 11
DB --> Goncourt_service : Book + Author + Publisher

'Récupérer les personnages
Goncourt_service -> DB : SELECT * FROM book_character\nWHERE book_id = 11
DB --> Goncourt_service : liste de BookCharacter

Goncourt_service --> UI : Book + Author + Publisher + Characters
UI --> User : affiche la fiche détaillée du livre

note right of Goncourt_service
  Implémentation :
  - SelectionDao.read_by_year_and_round(...)
  - BookDao.read_by_selection(...)
  - puis pour chaque livre, appels aux DAO Author/Publisher/Character
end note

@enduml
